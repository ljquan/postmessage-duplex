# Validate

运行完整的代码验证流程，确保代码质量符合项目规范。

## 说明

这个命令会依次执行类型检查、Lint、测试和构建，确保代码修改符合项目规范。这是 Boris Cherny 第 13 条技巧的实践：给 Claude 验证工作的方式，能将产出质量提升 2~3 倍。

## 步骤

1. **类型检查**:
   - 运行 `nx typecheck drawnix`
   - 如果失败，分析错误并提供修复建议

2. **代码规范检查**:
   - 运行 `nx lint drawnix`
   - 如果有警告或错误，列出问题

3. **单元测试**:
   - 运行 `nx test drawnix --passWithNoTests`
   - 报告测试结果

4. **构建验证**:
   - 运行 `npm run build:web`
   - 确认构建成功

5. **生成报告**:
   - 汇总所有检查结果
   - 使用以下格式报告:
     ```
     ## 验证结果
     
     | 检查项 | 状态 | 详情 |
     |--------|------|------|
     | 类型检查 | ✅/❌ | ... |
     | Lint | ✅/❌ | ... |
     | 测试 | ✅/❌ | ... |
     | 构建 | ✅/❌ | ... |
     ```

## 失败处理

如果任何步骤失败:
1. 记录具体错误信息
2. 继续执行后续步骤（收集所有问题）
3. 最后汇总所有问题
4. 询问用户是否需要帮助修复

## 注意事项

- 不要在验证失败时自动修复，除非用户明确要求
- 保留完整的错误输出以便分析
- 验证通过后可以建议用户运行 `/auto-commit`
